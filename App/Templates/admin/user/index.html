{% extends 'layout.html' %}

<!-- title -->
{% block title %}User Listings{% endblock %}
<!-- description -->
{% block description %}MagmaCore create an account{% endblock %}
<!-- keywords -->
{% block keywords %}register, create an account{% endblock %}

<!-- start content-->
{% block content %}
<form method="post" action="/admin/user/bulk">
    <section class="uk-height-viewport">
        {@ templateExtension('uikit_simple_pagination') @}
        <div class="uk-width-expand@m">
            <div>
                <div class="uk-card uk-card-default">
                    <div class="uk-card-body">
                        <div class="uk-overflow-auto uk-height-1-1">
                            {% if (count($table_tabs) > 0) : %}
                            <ul uk-tab>
                                {% foreach ($table_tabs as $key => $tab) : %}
                                <li>
                                    <a class="uk-button uk-button-text uk-button-large" href="/admin/user/log">
                                        <span class="uk-margin-small-right ion-28">
                                            <ion-icon name="{{ $tab['icon'] }}-outline"></ion-icon>
                                        </span> {{ (isset($tab['tab']) ? $tab['tab'] : '') }}

                                        {% if ($count_pending > 0): %}
                                            <small class="uk-label uk-label-warning">{{ (isset($tab['data']) ? $tab['data'] : '') }}</small>
                                        {% endif %}

                                        <br>
                                        <small class="uk-text-danger">{{ (isset($tab['meta']) ? $tab['meta'] : '') }}</small>
                                    </a>
                                </li>
                                {% endforeach %}
                            </ul>
                            {% endif; %}

                            <ul class="uk-switcher uk-margin">
                                <li>{% include /admin/user/view_table.html %}</li>
                                <li>{% include /admin/user/view_log.html %}</li>
                                <li>{% include /admin/user/view_pending.html %}</li>
                                <li>{% include /admin/user/view_trash.html %}</li>
                                <li>{% include /admin/user/view_lock.html %}</li>
                            </ul>
                        </div>
                    </div>
                </div>
                {@ templateExtension('uikit_pagination') @}
            </div>
        </div>
    </section>
</form>
{% endblock %}
<!--  -->
{% block scripts %}
<script>

    $('#selectAllDomainList').click (function () {
        const checkedStatus = this.checked;
        $('#datatable tbody tr').find('td:first :checkbox').each(function () {
            $(this).prop('checked', checkedStatus);
        });
    });

    // $(document).ready(function () {
    //     $("#sparkline").sparkline([100, 155, 58, 68, -45], {
    //         type: 'bar',
    //         height: '30%',
    //         barWidth: '20%',
    //         barColor: "rgb(0, 102, 102)",
    //         negBarColor: "rgb(178,216,216)",
    //         zeroColor: 'green'
    //     });
    // });
    //

</script>
<script>
    function tableFilter() {
        // Declare variables
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("table_filter");
        filter = input.value.toUpperCase();
        table = document.getElementById("datatable");
        tr = table.getElementsByTagName("tr");

        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }
    function listFilter(inputID, elementID) {
        // Declare variables
        var input, filter, ul, li, a, i, txtValue;
        input = document.getElementById(inputID);
        filter = input.value.toUpperCase();
        ul = document.getElementById(elementID);
        li = ul.getElementsByTagName('li');

        // Loop through all list items, and hide those who don't match the search query
        for (i = 0; i < li.length; i++) {
            div = li[i].getElementsByTagName("div")[0];
            txtValue = div.textContent || div.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = "";
            } else {
                li[i].style.display = "none";
            }
        }
    }

</script>
{% endblock %}